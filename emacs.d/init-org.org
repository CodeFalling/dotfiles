* General setup

#+BEGIN_SRC emacs-lisp
  (setq org-startup-indented t
        org-startup-folded 'content
        org-export-backends '(ascii html icalendar latex md odt)
        org-babel-load-languages '((emacs-lisp . t) (ruby . t) (python . t) (sh . t))
        org-use-fast-tag-selection 'auto
        org-time-stamp-custom-formats '("<%a %e %b %Y>" . "<%a %e %b %Y %H:%M>")
        )
  
  (add-hook 'org-mode-hook 'turn-off-filladapt-mode)
  (add-hook 'org-mode-hook 'visual-line-mode)
#+END_SRC

* Global key bindings

#+BEGIN_SRC emacs-lisp
  (global-set-key "\C-cl" 'org-store-link)
  (global-set-key "\C-cc" 'org-capture)
  (global-set-key "\C-ca" 'org-agenda)
  (global-set-key "\C-cb" 'org-iswitchb)
#+END_SRC

* Make windmove work in org-mode

#+BEGIN_SRC emacs-lisp
  (add-hook 'org-shiftup-final-hook 'windmove-up)
  (add-hook 'org-shiftleft-final-hook 'windmove-left)
  (add-hook 'org-shiftdown-final-hook 'windmove-down)
  (add-hook 'org-shiftright-final-hook 'windmove-right)
#+END_SRC

* Capture

#+BEGIN_SRC emacs-lisp
  (setq org-capture-templates '(
                                ("t" "Todo" entry (file "") "* TODO %?")
                                ("n" "Note" entry (file "") "* %?")
                                )
        org-refile-targets '((nil :maxlevel . 5) (org-agenda-files :maxlevel . 4))
        )
#+END_SRC

* Archive

#+BEGIN_SRC emacs-lisp
  (setq org-archive-location "%s_archive::datetree/")
#+END_SRC
* Encryption

#+BEGIN_SRC emacs-lisp
  (require 'org-crypt)
  (org-crypt-use-before-save-magic)
  (setq org-tags-exclude-from-inheritance (quote ("crypt")))
#+END_SRC

* Todo states

#+BEGIN_SRC emacs-lisp
  (setq org-todo-keywords
        '((sequence "TODO(t)" "NEXT(n)" "|" "DONE(d)")
          (sequence "ONHOLD(h)" "WAITING(w)" "MONITOR(m)" "|" "CANCELED(c)"))
        
        org-todo-keyword-faces
        '(("NEXT" . "red")
          ("ONHOLD" . org-agenda-dimmed-todo-face)
          ("WAITING" . "yellow")
          ("MONITOR" . "yellow"))
        )
#+END_SRC

* Agenda

#+BEGIN_SRC emacs-lisp
  (setq org-agenda-todo-ignore-scheduled 'future
        org-agenda-dim-blocked-tasks 'invisible)
#+END_SRC
