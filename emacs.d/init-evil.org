* Evil mode configuration

** Basic setup

#+BEGIN_SRC emacs-lisp
  (setq-default evil-shift-width 2
                evil-shift-round t)

  (setq evil-cross-lines t)
#+END_SRC

*** Save on leaving insert state

#+BEGIN_SRC emacs-lisp
  (defun jc/save-current ()
    (interactive)
    (unless (null buffer-file-name)
      (save-buffer)))

  (add-hook 'evil-insert-state-exit-hook #'jc/save-current)
#+END_SRC

** Leader

#+BEGIN_SRC emacs-lisp
  (setq evil-leader/leader "<SPC>")

  (evil-leader/set-key
    "c" 'org-capture
    "a" 'org-agenda
    "l" 'jc/launcher-hydra/body
    "f" 'jc/file-hydra/body)

  (global-evil-leader-mode 1)
#+END_SRC

** Nerd commenter

#+BEGIN_SRC emacs-lisp
  (define-key evil-normal-state-map ",ci" 'evilnc-comment-or-uncomment-lines)
  (define-key evil-normal-state-map ",cl" 'evilnc-quick-comment-or-uncomment-to-the-line)
  (define-key evil-normal-state-map ",ll" 'evilnc-quick-comment-or-uncomment-to-the-line)
  (define-key evil-normal-state-map ",cc" 'evilnc-copy-and-comment-lines)
  (define-key evil-normal-state-map ",cp" 'evilnc-comment-or-uncomment-paragraphs)
  (define-key evil-normal-state-map ",cr" 'comment-or-uncomment-region)
  (define-key evil-normal-state-map ",cv" 'evilnc-toggle-invert-comment-line-by-line)
#+END_SRC

** Mode-specific stuff

*** Mu4e

#+BEGIN_SRC emacs-lisp
  (evil-define-key 'normal message-mode-map "^" 'message-beginning-of-line)
#+END_SRC
